## 데이터베이스 정규화와 이상 현상

### 🧠 정규화(Normalization)란?

**중복을 줄이고**, **데이터의 일관성을 높이기 위한 테이블 분리 작업**이야.
엑셀에서 같은 정보가 계속 반복되면 관리하기 어렵잖아? 그걸 해결하는 개념이야.

---

### 😱 이상현상(Anomaly)이란?

정규화를 안 하면 생기는 **문제 상황들**이야. 크게 3가지 있어:

| 유형                           | 설명                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| **삽입 이상 (Insert Anomaly)** | 일부 정보만 입력하려고 해도 **다른 정보도 억지로 넣어야 함** |
| **삭제 이상 (Delete Anomaly)** | **한 정보만 지우고 싶은데**, **다른 정보도 같이 사라짐**     |
| **갱신 이상 (Update Anomaly)** | **중복된 데이터**를 하나씩 바꿔야 해서 **실수 가능성 있음**  |

---

### 📚 예시 테이블 (비정규화 상태)

| 학생이름 | 과목명 | 교수이름 |
| -------- | ------ | -------- |
| 홍길동   | 수학   | 김수학   |
| 홍길동   | 과학   | 이과학   |
| 김철수   | 수학   | 김수학   |

이 테이블에서 **문제가 생길 수 있는 경우들:**

- **갱신 이상**: "김수학" 교수의 이름을 바꾸면 **모든 행을** 바꿔야 해.
- **삭제 이상**: "김철수"가 수학을 드롭하면, 수학 과목 자체 정보도 사라져.
- **삽입 이상**: 새로운 과목을 추가하려는데, 아직 들은 학생이 없다면 **학생 정보 없이 과목만 넣기 힘듦**.

---

### 🏗 정규화 단계 요약

| 단계                | 핵심 개념        | 설명                                            |
| ------------------- | ---------------- | ----------------------------------------------- |
| **1NF (제1정규형)** | 원자값           | 셀 하나에 값 하나만                             |
| **2NF (제2정규형)** | 부분 종속 제거   | 복합키일 때, 키 전체에 종속돼야 함              |
| **3NF (제3정규형)** | 이행적 종속 제거 | A → B, B → C이면 A → C는 안 됨 (중간 단계 제거) |

---

### ✅ 정규화 후 테이블 (예시)

**학생 테이블**

| 학생ID | 이름   |
| ------ | ------ |
| 1      | 홍길동 |
| 2      | 김철수 |

**과목 테이블**

| 과목ID | 과목명 |
| ------ | ------ |
| 101    | 수학   |
| 102    | 과학   |

**교수 테이블**

| 교수ID | 이름   |
| ------ | ------ |
| 201    | 김수학 |
| 202    | 이과학 |

**수강 테이블**

| 학생ID | 과목ID | 교수ID |
| ------ | ------ | ------ |
| 1      | 101    | 201    |
| 1      | 102    | 202    |
| 2      | 101    | 201    |

이렇게 분리하면 **중복도 줄고**, **삽입/삭제/갱신 문제도 없음!**
