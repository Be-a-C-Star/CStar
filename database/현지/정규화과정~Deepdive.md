## Q. 정규화과정은 꼭 필요할까요?

### 정규화 과정 정리
비정규형 릴레이션
->
제 1 정규형 (모든 속성이 원자값)
->
제 2 정규형 (모든 속성, 기본키에 완전 함수 종속)
->
제 3 정규형 (기본키에 이행적 함수 종속 X)
-> 
보이스 / 코드 정규형 (모든 결정자가 후보키)

### 정규화 과정은 필요할까?
테이블을 나누는 경우 조인을 해야해서 느려질 가능성이 있기 때문에, 
서비스에 따라서 정규화 또는 비정규화 과정을 진행해야 한다. 

정규화를 하면
- 중복 데이터가 제거됨에 따라 스토리지에 대한 전체 메모리 요구량 감소
- 테이블이 더 정상적이게 됨으로 오류 발생 확률 감소

## Q. 관계형데이터베이스와 NoSQL데이터베이스의 차이는?

### 관계형 데이터베이스 (RDBMS)
- 정의: 데이터를 테이블 형태로 구조화하여 저장하는 데이터베이스

주요 특징:
1. 스키마 기반: 미리 정의된 스키마에 따라 데이터 저장
2. ACID 트랜잭션: 원자성, 일관성, 격리성, 지속성 보장
3. SQL 사용: 구조화된 쿼리 언어로 데이터 조작
4. 정규화: 데이터 중복 최소화를 위한 정규화 과정
5. 관계 설정: 외래키를 통한 테이블 간 관계 정의

장점:
- 데이터 일관성과 무결성 보장
- 복잡한 쿼리와 조인 연산 지원
- 트랜잭션 처리 안정성
- 표준화된 SQL 언어 사용

단점:
- 수평적 확장성 제한
- 스키마 변경 시 유연성 부족
- 대용량 데이터 처리 시 성능 저하 가능성

대표적인 RDBMS:
- MySQL, PostgreSQL, Oracle, SQL Server

### NoSQL 데이터베이스
정의: 관계형 데이터베이스가 아닌 모든 데이터베이스

주요 특징:
1. 스키마리스: 유연한 데이터 구조
2. 수평적 확장: 분산 처리에 최적화
3. 다양한 데이터 모델: 문서, 키-값, 컬럼, 그래프 등
4. BASE 모델: Basically Available, Soft state, Eventually consistent
5. 대용량 데이터 처리: 빅데이터 환경에 적합

장점:
- 높은 확장성과 성능
- 유연한 스키마 구조
- 대용량 데이터 처리에 효율적
- 빠른 읽기/쓰기 속도

단점:
- ACID 트랜잭션 보장 제한
- 복잡한 조인 연산의 어려움
- 데이터 일관성 보장의 어려움
- 표준화된 쿼리 언어 부재

NoSQL 유형:
1. 문서형: MongoDB, CouchDB
2. 키-값형: Redis, DynamoDB
3. 컬럼형: Cassandra, HBase
4. 그래프형: Neo4j, ArangoDB

### 선택 기준
RDBMS 선택 시기:
- 데이터 일관성이 중요한 경우
- 복잡한 관계와 조인이 필요한 경우
- ACID 트랜잭션이 필요한 경우
- 구조화된 데이터를 다루는 경우

NoSQL 선택 시기:
- 대용량 데이터 처리가 필요한 경우
- 빠른 읽기/쓰기가 중요한 경우
- 수평적 확장이 필요한 경우
- 유연한 스키마가 필요한 경우
- 실시간 데이터 처리가 필요한 경우

## DEEP DIVE : MongoDB를 쓸 때 주의할 점

### MongoDB의 주요 특징

1. 기본키: ObjectID(_id)
   - MongoDB의 각 문서는 `_id`라는 필드를 반드시 가진다.
   - `_id`의 기본값은 12바이트 크기의 ObjectID이며, 시간, 머신 ID, 프로세스 ID, 카운터 값으로 구성되어 전 세계적으로 유일하다.
   - 사용자가 직접 `_id`를 지정할 수도 있다.

2. BSON (Binary JSON)
   - MongoDB는 데이터를 BSON(Binary JSON) 형태로 저장한다.
   - BSON은 JSON과 유사하지만 더 많은 데이터 타입(Date, Binary 등)을 지원한다.
   - 이진 포맷이기 때문에 저장과 네트워크 전송에 효율적이다.

3. 확장성 (Sharding)
   - MongoDB는 기본적으로 수평적 확장을 지원한다.
   - Sharding을 통해 데이터를 여러 서버에 분산 저장할 수 있어, 대용량 데이터를 처리하기에 적합하다.

4. 지리공간 인덱싱
   - 2차원 좌표를 기반으로 하는 공간 데이터를 저장하고 검색할 수 있다.
   - 예를 들어, "내 주변 1km 이내의 음식점 찾기" 같은 기능을 구현할 수 있다.

5. 트랜잭션
   - 4.0 버전 이상부터는 다중 문서 트랜잭션을 지원한다.
   - 따라서 RDBMS처럼 여러 문서에 걸친 원자적 연산이 가능하다.

### MongoDB를 쓸 때 주의할 점

### 1. 문서 크기 제한
- MongoDB는 하나의 문서 크기를 최대 16MB로 제한한다.
- 너무 큰 문서를 저장하면 오류가 발생하거나 성능이 저하될 수 있다.

해결 방법
- 대용량 데이터는 GridFS를 사용한다.
- 문서를 여러 개로 분할 저장한다.
- 파일은 MongoDB 대신 외부 파일 저장소(S3, NAS 등)에 두고, MongoDB에는 경로/메타데이터만 저장한다.

### 2. 메모리 관리
- MongoDB는 WiredTiger 스토리지 엔진을 사용하며, 기본적으로 시스템 메모리의 약 50%를 캐시로 사용한다.
- 메모리 크기가 부족하면 성능 저하가 발생할 수 있다.

메모리 요구사항
- 4GB RAM 시스템: 최소 256MB 캐시 필요
- 프로덕션 환경: 최소 8GB RAM 이상 권장

메모리 확인 방법
- 다음 명령어로 현재 메모리 사용량을 확인할 수 있다:
  ```js
  db.serverStatus().mem
  ```