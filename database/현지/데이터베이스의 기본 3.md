# 관계와 키
## 관계
1. 1:1 = 회원 한 명당 이메일 한 개만 가질 수 있음. (예: 주민등록번호와 사람)
2. 1:N = 한 명의 유저가 여러 개의 상품을 장바구니에 담을 수 있음. (예: 엄마 한 명이 여러 자녀를 가질 수 있음)
3. N:M = 학생 여러 명이 여러 강의를 들을 수 있음. (예: 여러 배우가 여러 영화에 출연할 수 있음)

## 키
데이터베이스에서 "키"는 각각의 데이터를 구별해주는 특별한 값임. 키가 있어야 데이터가 헷갈리지 않음.

### 슈퍼키
- 테이블에서 각 행(데이터)을 구별할 수 있게 해주는 컬럼(열)들의 모음임.
- 여러 컬럼을 묶어서도 만들 수 있음. (예: 이름+전화번호)
- 예시: 학생 테이블에서 '학번', 또는 '학번+이름' 같이 겹치지 않는 값들의 조합이 슈퍼키임.

### 기본키
- 슈퍼키 중에서 꼭 필요한 컬럼만 남긴 것임. (최소한의 컬럼)
- 한 테이블에 하나만 있음. 값이 겹치거나 비어 있으면 안 됨.
- 예시: 학생 테이블의 '학번'이 기본키가 될 수 있음. 회원 테이블의 'id'도 마찬가지임.

### 자연키와 인조키

#### 자연키
- 원래부터 유일한 값임. 현실에서 이미 구별되는 값임.
- 예시: 주민등록번호, 이메일, 학번 등
- 단점: 개인정보 노출 위험, 값이 바뀔 수도 있음

#### 인조키
- 데이터베이스에서 새로 만든 값임. 주로 숫자가 자동으로 늘어남.
- 예시: 1, 2, 3, ... 처럼 자동으로 붙는 번호(id)
- 장점: 관리가 쉽고, 개인정보 노출 위험 없음

### 외래키
- 다른 테이블의 기본키를 참조하는 컬럼임.
- 두 테이블을 연결해주는 역할을 함.
- 예시: 주문 테이블의 'user_id'가 회원 테이블의 'id'를 참조함. 즉, 주문이 누구의 것인지 알려줌.

### 대체키
- 기본키로 쓰지 않은 후보키를 대체키라 부름. 즉, 여러 후보키 중에서 기본키로 선택되지 않은 나머지 키임.
- 예시: 학생 테이블에 '학번'과 '이메일'이 모두 유일하다면, '학번'을 기본키로 쓰면 '이메일'은 대체키가 됨.

### 후보키
- 테이블에서 각 행을 유일하게 구별할 수 있는 컬럼(또는 컬럼들의 조합)임. 여러 개 있을 수 있음.
- 이 중 하나만 기본키로 선택함. 나머지는 대체키가 됨.
- 예시: 주민등록번호, 학번, 이메일 등이 모두 유일하다면 이 셋 다 후보키임.

### 슈퍼키
- 후보키보다 더 넓은 개념임. 유일하게 구별만 되면 됨. 불필요한 컬럼이 포함될 수도 있음.
- 예시: '학번+이름', '학번+전화번호' 등도 슈퍼키가 될 수 있음. 하지만 최소한이 아니면 후보키는 아님.

### 복합키
- 두 개 이상의 컬럼을 합쳐서 하나의 키로 쓰는 것임. 각각은 유일하지 않지만, 합치면 유일해짐.
- 예시: 수강신청 테이블에서 '학생ID'와 '강의ID'를 합쳐서 복합키로 사용하면, 한 학생이 한 강의를 여러 번 신청할 수 없게 됨.