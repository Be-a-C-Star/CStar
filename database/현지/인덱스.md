# 인덱스 

## 인덱스란?
- 정의: 데이터베이스에서 데이터를 빠르게 찾기 위한 자료구조
- 목적: 전체 테이블을 스캔하지 않고 원하는 데이터를 빠르게 검색
- 비유: 책의 목차나 색인과 같은 역할

## 인덱스의 구조와 효율적인 이유

### B-트리 (가장 일반적인 인덱스 구조)
- 균형 잡힌 트리 구조: 모든 리프 노드가 같은 레벨에 위치
- 다중 자식 노드: 한 노드가 여러 개의 자식 노드를 가질 수 있음
- 효율성: 
  - 검색: O(log n) 시간 복잡도
  - 삽입/삭제: O(log n) 시간 복잡도
  - 높이가 낮아서 디스크 I/O 횟수 최소화

### B-트리의 특징
```
        [10, 20, 30]
       /     |      \
   [5,7]  [15,18]  [25,28,35]
```

- 노드 분할: 노드가 가득 차면 중간값을 기준으로 분할
- 병합: 노드가 비면 형제 노드와 병합
- 순서 유지: 중위 순회로 정렬된 순서 유지

## 인덱스의 장단점

### 장점
- 빠른 검색: WHERE 절 조건 검색 속도 향상
- 정렬 최적화: ORDER BY 성능 향상
- 조인 최적화: 조인 조건 컬럼 인덱스로 성능 향상
- 중복 제거: UNIQUE 인덱스로 데이터 무결성 보장

### 단점
- 저장 공간: 추가 디스크 공간 필요
- 쓰기 성능 저하: INSERT, UPDATE, DELETE 시 인덱스도 함께 수정
- 유지보수 비용: 인덱스 재구성 필요

### 인덱스 사용 시 주의사항
- 과도한 인덱스: 너무 많은 인덱스는 성능 저하
- 불필요한 인덱스: 사용하지 않는 인덱스는 제거
- 인덱스 선택도: 중복도가 높은 컬럼은 인덱스 효과 낮음

#### 인덱스가 성능 개선에 악영향을 주는 경우
- 인덱스는 리스트 -> 컬렉션 순으로 두 번 탐색하도록 강요하여 탐색에 비용이 들기 때문에 사용되지 않는 불필요한 인덱스가 있을 경우 악영향이 있다. 
- 인덱스는 컬렉션이 수정됨에 따라 수정이 같이 되며 자주 변경되는 테이블의 경우 성능에 좋지 않다. 
- 데이터 분포가 고르지 않은 컬럼에 인덱스를 생성한 경우에도 성능에 좋지 않다. 

#### 복합 인덱스의 생성 순서가 중요한 이유는 무엇인가요?
데이터베이스가 인덱스를 검색할 때, 인덱스의 왼쪽부터 순차적으로 검색하기 때문에, 자주 사용되는 컬럼이나 조건절에 먼저 나오는 컬럼을 인덱스의 앞에 위치시키는 것이 좋다. 

#### 인덱스 방식을 사용했을 때의 장점은 무엇인가요?
데이터베이스의 인덱스는 데이터 CRUD 속도를 향상시키기 위해 사용되는 데이터 구조로, 인덱스를 사용하면 데이터베이스 시스템이 테이블의 모든 행을 순차적으로 검색하지 않고도 특정 데이터를 빠르게 찾을 수 있다. 