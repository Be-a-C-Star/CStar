# 전송 계층

메세지를 세그먼트 또는 데이터그램으로 데이터를 쪼개고 오류없이 순서대로 전달되도록 도움을 주는 계층이다. 대표적으로 TCP, UDP가 존재한다.

## TCP(전송 제어 프로토콜)

- 가상회선 패킷 교환 방식
    - 데이터를 보낼 때 가상 회선을 만들고 데이터를 순서대로 보낸다
- 재전송
    - 시간 초과 기간이 지나도 전달되지 않는 데이터가 있다면 서버는 해당 데이터를 재전송한다
- 체크섬
    - 송신된 데이터의 체크섬과 수신된 데이터의 체크섬 값을 비교해 올바른지 확인한다
- 3-way handshake로 연결을 맺고 4-way handshake로 연결을 해제한다
- 헤더가 20~60byte로 가변적이다

## UDP(데이터그램 프로토콜)

- 데이터그램 패킷 교환 방식
    - 데이터의 순서를 보장하지 않는다
    - 단순하게 체크섬 확인만 하고 데이터를 재전송하지 않는다
    - 연결을 유지하고 해제하는 비용이 없다
- 8byte의 고정 길이를 가진다

### TCP와 UDP 비교

|  | TCP | UDP |
| -- | -- | -- |
|패킷교환방식|가상회선|데이터그램|
|신뢰성|O|X|
|오류검사|재전송,체크섬|체크섬|
|패킷 순서 보장|O|X|
|헤더 길이| 가변길이 (20~60)|고정길이(8)|
|연결보장|O|X|
|브로드캐스트지원|X|O|
|속도|느림|빠름|
