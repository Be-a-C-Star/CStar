# TCP/IP

- TCP/IP 4계층은 장치들이 인터넷 상에서 데이터를 주고받을 때 쓰는 독립적인 프로토콜 집합을 의미
- 인터넷을 통해 데이터를 보낼 때 주로 TCP와 IP를 이용

## 애플리케이션 계층(application)

- HTTP, SMTP, SSH, FTP 등
- 사용자에게 실질적인 서비스를 제공하는 계층

## 전송 계층(transport)

- TCP, UDP 등
- 에플리케이션 계층에서 받은 메세지를 기반으로 세그먼트 또는 데이터그램으로 데이터를 쪼갬
- 오류없이 순서대로 전달되도록 도움을 주는 계층

## 인터넷 계층(network)

- IP, ICMP, ARP 등
- 전송 계층으로부터 받은 세그먼트/데이터그램을 패킷화하여 목적지로 전달하는 역할
- 한 노드에서 다른 노드로 전송하게 된다.

## 링크 계층(link)

- 전선, 광섬유, 무선 등 데이터가 네트워크를 통해 물리적으로 전송되는 방식을 정의
- 데이터링크 계층과 물리 계층이 합쳐진 계층

## 캡슐화/비캡슐화

- 캡슐화(encapsulation)
    - 송신자가 수신자에게 데이터를 보낼 때, 데이터가 각 계층을 지나며 헤더들이 붙여지는 과정
    - 전송 계층은 ICP 헤더, 네트워크 계층은 IP 주소 헤더 등이 추가된다
- 비캡슐화(decapsulation)
    - 캡슐화의 역과정
    - 수신차측에서 캡슐화된 데이터를 역순으로 제거하며 응용 계층까지 도달되는 것을 의미

## PDU

- TCP/IP 4계층을 기반으로 설명했을 때, 각 계층의 데이터 단위를 의미한다
- 애플리케이션 계층
    - 메세지
- 전송 계층
    - 세그먼트(TCP)
    - 데이터그램(UDP)
- 인터넷 계층
    - 패킷 : 세그먼트에 SP(송신지 IP)와 DP(수신지 IP)가 포함된 IP 헤더가 붙은 형태
- 링크 계층
    - 프레임(데이터 링크) : MAC주소 헤더와 CRC/체크섬 트레일러가 붙은 형태
    - 비트(물리)

## CRC/체크섬 트레일러

- 데이터의 오류감지를 위한 필드
- 링크 오류로 인한 데이터 손상을 감지하는 역할
- 데이터 전송 오류 및 데이터 무결성을 방지한다
- CRC : CRC-1, CRC-16 등의 알고리즘으로 나온 값을 통해 데이터 전송 오류 감지를 수행
- 체크섬 : MD5, SHA-256 등의 알고리즘으로 나온 값을 통해 데이터 무결성을 방지

## OSI 7계층

- TCP/IP 4계층보다 더 많은 계층으로 나눈 네트워크 계층
- 애플리케이션 계층을 애플리케이션 계층, 표현계층, 세션 계층으로 쪼개고 링크 계층을 데이터 링크 계층, 물리 계층으로 나눠서 표현
- 응표세전네데물