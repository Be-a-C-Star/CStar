# 웹브라우저의 캐시 #5.쿠키

- 쿠키: 브라우저에 저장된 데이터 조각
- 클라이언트와 서버 둘 다 조작 가능하지만 보통 서버에서 만료기한 등을 설정 및 컨트롤함.
- 서버에서 응답헤더로 Set-Cookie로 설정해서 쿠키를 보내면 그때부터 클라이언트에서 요청헤더 Cookie에 설정되어 자동으로 서버에 전달하게 되고 브라우저에도 저장하게 된다.
- 최대저장용량 4kb

## 클라이언트에서도 설정가능한 쿠키

document.cookie를 통해 쿠키를 설정할 수 있지만 권장하지 않는다. 왜냐하면 쿠키에는 민감한 정보들이 담길 수 있는데 이를 서버에 두게 해야 보안성 측면에서 좋기 때문이다.

## 세션 쿠키

세션 쿠키는 Expires 또는 Max-Age 속성을 지정하지 않은 것이며 브라우저가 종료되면 쿠키도 사라진다.

## 영구 쿠키

영구쿠키는 Expires 또는 Max-Age 속성을 지정해서 특정날짜 또는 일정기간이 지나면 삭제되게 만든 쿠키이고 브라우저를 닫을 때 만료되지 않는다.

### secure 코딩

1. 쿠키에 세션ID를 담을 때 세션ID 기반으로 클라이언트의 개인정보를 유추할 수 없게 해야한다.
2. 자바스크립트로는 파악할 수 없게 http only 옵션을 걸고 https로만 쿠키를 주고받을 수 있게 secure 옵션을 걸어야 한다.
3. 일정시간의 세션 타임아웃을 걸어야 한다.

### 쿠키허용관련 알림창

서비스 운용시 쿠키 사용하면 쿠키허용관련 알림창을 만들어야 한다.
