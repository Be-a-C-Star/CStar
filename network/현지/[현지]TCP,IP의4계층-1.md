# TCP/IP 4계층

TCP/IP 4계층은 장치들이 인터넷 상에서 데이터를 주고받을 때 쓰는 독립적인 프로토콜의 집합을 의미한다.

- TCP (Transmission Control Protocol) 전송제어 프로토콜: IP보다 느리지만 꼼꼼한 방식을 사용한다. 도착한 데이터조각을 점검하여 줄을 세우고, 망가졌거나 빠진 조각을 다시 요청한다.

- IP (Interne Protocol) 인터넷 프로토콜: 데이터의 조각들을 최대한 빨리 목적지로 보내는 역할이다. 데이터가 뒤바뀌거나 누락되어도 크게 상관이 없다.

## 애플리케이션 계층

HTTP, SMTP, SSH, FTP가 대표적이며 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층

## 전송 계층

TCP, UDP가 대표적이며 애플리케이션 계층에서 받은 메시지를 기반으로 세그먼트 또는 데이터그램으로 데이터를 쪼개고 데이터가 오류없이 순서대로 전달되도록 도움을 주는 층

## 인터넷 계층

IP, ICMP, ARP가 대표적이며 한 노드에서 다른 노드로 전송계층에서 받은 세그먼트 또는 데이터그램을 패킷화 하여 목적지로 전송하는 역할

## 링크 계층

전선, 광섬유, 무선 등으로 데이터가 네트워크를 통해 물리적으로 전송되는 방식을 정의한다. 데이터링크계층과 물리계층을 합친 계층.

## 캡슐화와 비캡슐화

- 캡슐화(encapsulation): 송신자가 수신자에게 데이터를 보낼 때 데이터가 각 계층을 지나며 각 계층의 특징들이 담긴 헤더들이 붙여지는 과정을 의미한다.

  ex) 전송계층은 TCP 헤더, 네트워크 계층은 IP 주소 헤더를 추가하는 것

- 비캡슐화(decapsulation): 수신자측에서는 이렇게 캡슐화된 데이터를 역순으로 제거하면서 응용계층까지 도달하는 것.

  ex) 수신자측에서는 캡슐화된 데이터를 역순으로 제거하면서 응용계층까지 도달하는 것

## PDU (Protocol Data Unit)

TCP/IP 4계층이 기반일 때, 각 계층의 데이터 단위를 의미한다.

- 애플리케이션 계층: 메시지
- 전송 계층: 세그먼트(TCP), 데이터그램(UDP)
- 인터넷 계층: 패킷
- 링크 계층: 프레임(데이터 링크 계층), 비트(물리 계층)

## CRC/체크섬 트레일러

데이터의 오류감지를 위한 수학적 함수가 적용된 값들이 있는 필드이며, 링크의 오류로 인한 데이터 손상을 감지하는 역할을 한다.

- CRC : CRC-1, CRC-16 등의 알고리즘으로 나온 값을 통해 데이터 전송오류감지를 수행
- 체크섬 : MD5, SHA-256 등의 알고리즘으로 나온 값을 통해 데이터 무결성을 방지

## OSI 7계층

![alt text](tcpip-현지.png)
TCP/IP 계층과 달리 OSI 7계층은 애플리케이션 계층을 세 개로 쪼개고 링크 계층을 데이터 링크 계층, 물리 계층으로 나눠서 표현하는 것이 다르며 인터넷 계층을 네트워크 계층으로 부른다는 점이 다르다.
