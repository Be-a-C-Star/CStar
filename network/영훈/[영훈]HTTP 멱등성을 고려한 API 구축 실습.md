### HTTP 멱등성을 고려한 API 구축

POST 메서드의 경우 idempotency Key를 보내서 동일한 요청인지를 식별하게 한다.
이를 통해 동일한 작업의 재시도를 인식하고 한 번만 처리되도록 한다.
이는 중복 트랜잭션을 피해야 하는 결제 처리 API에서 자주 사용된다.

##### Ex.

```
POST /payments
Idempotency-Key: 6fa5438a-6818-48d9-bb15-6954a1f3e3a3
```

#### 멱등성이 중요한 이유

- 일관성

  - 보통 반복되는 요청이 단일 요청과 동일한 효과를 갖도록 보장하는 것은 시스템 전반에 걸쳐 일관된 상태를 유지하는 데 도움이 된다.

- 유지보수성
  - 멱등성을 가진 HTTP메서드로 API로 통신하는 부분에 있어서는 재시도를 처리할 때의 사이드이펙트를 고려한 복잡한 로직을 구현할 필요가 없기 때문에 이 부분을 잘 고려해서 설계한다면 유지보수성이 증가된다.
