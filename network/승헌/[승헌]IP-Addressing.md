# IP Addressing

## IP 주소체계

- IP 주소는 인터넷상 주소를 의미하며, 네트워크 / 호스트 주소 두 부분으로 나뉨
- 로컬네트워크 내에서는 네트워크 주소가 동일
- 호스트 주소는 호스트를 구분하기 위한 주소
- 네트워크 호스트는 네트워크에 연결되어 통신할 수 있는 모든 장치를 말함

※ host: 서비스를 제공하거나 데이터를 처리할 수 있는 장치(주체)

## 클래스풀(Classful)

- IP 주소 범위를 고정된 크기로 나누어 네트워크와 호스트를 구분
- IP 주소를 클래스(A - E)로 구분하여 사용
- 서브넷 마스크는 IP 클래스에 따라 고정되어 있으며, 네트워크 크기가 유동적이지 않음

### 옥텟(Octet)

- IPv4 주소는 32비트로 구성, 이를 4개 옥텟(8비트)로 나누어 표현함
- 0 - 255($2^8$개)의 숫자로 표시됨, 점(.)으로 구분

### 서브넷마스크

- 서브넷마스크는 네트워크 부분과 호스트 부분을 구분하기 위한 값
- 서브넷마스크와 IP주소를 AND연산 하여 네트워크 주소를 얻을 수 있음
→ 서브넷마스크의 0인 자리가 호스트 주소가 됨

*e.g.*

- IP 주소: 192.168.1.0
- 서브넷마스크: 255.255.255.0
- 192.168.1.0 (네트워크): 호스트 비트가 전부 0인 값
- 192.168.1.”1 ~ 254” (호스트): 네트워크 내에서 **사용 가능한** 장치의 주소 범위
- 192.168.1.255 (브로드캐스트 주소): 네트워크 내 모든 호스트와 통신할 때 사용
(호스트 “비트”가 모두 1)

### 실제 사용할 수 있는 IP는 전체 IP 개수 - 2로 계산

- 네트워크 주소, 브로드캐스트 주소

### 클래스 A, B, C

|  | 범위 | 서브넷마스크 | 특징 |
| --- | --- | --- | --- |
| A | 0.0.0.0 ~ 127.255.255.255 | 255.0.0.0 (8비트) | 대규모 (네트워크: 8비트, 호스트: 24비트) |
| B | 128.0.0.0 ~ 191.255.255.255 | 255.255.0.0 (16비트) | 중규모 (네트워크: 16비트, 호스트: 16비트) |
| C | 192.0.0.0 ~ 223.255.255.255 | 255.255.255.0 (24비트) | 소규모 (네트워크: 24비트, 호스트: 8비트) |
- 이외에 D(멀티캐스트 용도), E(실험용) 클래스가 있음
- 클래스 A 특이사항
    - 127.x.x.x(루프백 주소) - 컴퓨터 내부에서 소프트웨어 테스트 또는 장치 자체와 통신할 때 사용
    - 0.0.0.0 - 기본 경로(Default Route) / IP 할당 전 / 모든 IPv4주소 여러가지를 의미하는 특수 주소
    - 대역 범위가 A에 속하지만 특수한 용도로만 사용됨(실제 주소로 사용 X)

### 장단점

- 장점
    - 구조가 단순하고 이해가 쉬움
    - 초기 네트워크 설계에 적합
- 단점
    - 네트워크 크기가 고정되어 비효율적이다.
    - *e.g.* 클래스 A는 너무 큰 네트워크, 클래스 C는 너무 작은 경우가 많음
    - 서브넷팅을 통해 유연하게 관리하기 어려움

## 클래스리스 (Classless)

- IP 주소를 고정된 크기의 클래스에 의존하지 않음
- CIDR (Classless Inter-Domain Routing) 방식으로 서브넷을 유연하게 나누는 방식
- 서브넷마스크가 고정되지 않고 필요에 따라 가변적

### 클래스풀과의 차이점

|  | Classful | Classless |
| --- | --- | --- |
| 주소체계 | A, B, C | CIDR 표기 |
| 네트워크 크기 | 고정 | 유연 |
| 효율성 | 비효율(리소스 낭비 가능성) | IP 주소의 효율적 사용 가능 |
| 서브넷마스크 | 고정 | 가변 |

### CIDR? (Classless Inter-Domain Routing)

- 서브넷 마스크에서 네트워크 부분이 차지하는 비트 수
- 표기법: “IP주소/프리픽스 길이”, e.g. 192.168.1.0/24
- 프리픽스: 서브넷마스크에서 네트워크 부분이 차지하는 비트 수
- 클래스풀처럼 4개 옥텟으로 꼭 구분해서 쓰는게 아니라 비트수로 계산할 수 있도록 표기

## Public IP, Private IP, NAT

### Public IP

- 인터넷 상에서 고유하게 식별되는 IP 주소
- 전 세계적으로 관리되는 유한한 자원
- *e.g.* 8.8.8.8 (Google Public DNS)

### Private IP

- 로컬 네트워크 내에서만 사용되는 IP 주소
- 인터넷에 직접 접근 불가 (NAT 필요)
- 범위:
    - 10.0.0.0 ~ 10.255.255.255
    - 172.16.0.0 ~ 172.31.255.255
    - 192.168.0.0 ~ 192.168.255.255

### NAT (Network Address Translation)

- Private IP를 Public IP로 변환하여 인터넷에 연결 가능하게 해주는 기술
- 장점
    - IP 주소 절약
    - 보안성 향상 (내부 네트워크 숨김)
