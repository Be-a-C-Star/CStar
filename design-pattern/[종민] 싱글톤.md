싱글톤(Singleton) 패턴은 하나의 클래스에 대해 인스턴스가 단 하나만 생성되도록 보장하는 디자인 패턴이다. 이 패턴은 전역 상태를 관리해야 하거나, 여러 개의 인스턴스가 생성되는 것을 방지하고자 할 때 유용하게 사용할 수 있다. 특히, 설정을 관리하거나, 데이터베이스 연결과 같이 자원을 많이 사용하는 객체에 적용하기 좋다.

### 싱글톤 패턴의 주요 특징
1. **인스턴스의 유일성 보장**: 클래스가 단 하나의 인스턴스만을 가지도록 제한한다.
2. **글로벌 접근점 제공**: 이 단일 인스턴스는 애플리케이션 전체에서 어디서나 접근 가능하다.
3. **지연 초기화 가능**: 인스턴스 생성이 필요할 때까지 초기화를 지연하여 메모리 사용을 최적화할 수 있다.

### 싱글톤 패턴의 장점
인스턴스의 유일성 보장
클래스의 인스턴스를 하나만 생성하게 만들어 전역에서 동일한 객체에 접근하게 하므로 자원을 절약하고 일관성을 유지할 수 있다. 특히, 데이터베이스 연결과 같은 리소스 소모가 큰 객체에 유용하다.

글로벌 접근성 제공
애플리케이션 어디서든 싱글톤 인스턴스에 접근할 수 있으므로 공통 데이터를 관리하거나 설정을 제공하는 용도로 사용하기 적합하다. 전역 객체와 비슷한 개념이지만, 싱글톤은 제어된 방식으로 접근할 수 있다.

초기화 지연
인스턴스가 필요할 때 생성되므로 메모리 효율이 높아지고, 애플리케이션의 부팅 속도도 최적화할 수 있다. 필요할 때만 초기화하는 방법으로 메모리 자원을 절약할 수 있다.

객체간 의존성 감소
객체 간 동일한 인스턴스를 공유하므로 상태 일관성을 유지할 수 있다. 동일한 설정을 공유하는 여러 모듈에서 각기 다른 인스턴스를 사용할 때 발생할 수 있는 충돌을 방지한다.

### 싱글톤 패턴의 단점
테스트 어려움
전역 인스턴스 하나만 사용하므로 테스트 중에도 이 인스턴스를 변경하기 어려운 경우가 많아, 단위 테스트와 같은 독립적인 테스트를 하기에 제약이 있을 수 있다. 상태가 고정되어 있어 의도하지 않게 다른 테스트에 영향을 줄 수 있다.

의존성 증가
싱글톤 인스턴스를 사용하면 애플리케이션 내 많은 부분이 이 객체에 의존하게 되어 의존성이 높아질 수 있다. 의존성이 높아지면 모듈 간 결합도가 높아져 코드의 유지보수가 어려워질 수 있다.

병렬 처리의 한계
싱글톤 인스턴스는 하나이므로, 병렬 처리가 필요한 상황에서 성능 저하가 발생할 수 있다. 특히, 웹 애플리케이션에서 다수의 요청이 동시에 들어올 때는 리소스를 공유하는 문제가 발생할 수 있다.

지나친 사용으로 인한 전역 상태 관리 어려움
싱글톤을 남용할 경우 모든 데이터와 설정을 한 객체에 몰아넣게 되는데, 이는 객체가 너무 많은 책임을 가지게 만들어 코드 가독성과 유지보수성을 해친다. 싱글톤은 필요할 때에만 사용하는 것이 좋다.

### 싱글톤 패턴 구현 방법 (JavaScript)
JavaScript에서 싱글톤 패턴을 구현하는 방법 중 한 가지는 **클로저와 모듈 패턴**을 사용하는 것이다. 이를 통해 특정 객체가 처음 요청될 때만 인스턴스를 생성하고, 이후 요청에서는 동일한 인스턴스를 반환하도록 설정할 수 있다.



```javascript
// Singleton 패턴 구현
const Singleton = (function () {
  let instance; // 인스턴스를 저장할 변수

  function createInstance() {
    // 원하는 객체 생성 (예: 설정 객체)
    const object = new Object("I am the instance");
    return object;
  }

  return {
    getInstance: function () {
      // 이미 인스턴스가 존재하면 해당 인스턴스를 반환
      if (!instance) {
        instance = createInstance();
      }
      return instance;
    },
  };
})();

// 사용 예시
const instance1 = Singleton.getInstance();
const instance2 = Singleton.getInstance();

console.log(instance1 === instance2); // true (같은 인스턴스를 반환)
```

이 코드에서는 `getInstance` 메서드를 통해서만 인스턴스에 접근할 수 있으며, 이미 인스턴스가 생성된 경우 해당 인스턴스를 반환하고, 그렇지 않으면 `createInstance` 메서드를 통해 새로운 인스턴스를 생성한다. 이렇게 함으로써 `instance1`과 `instance2`는 항상 동일한 객체를 참조하게 된다.

### 싱글톤 패턴의 활용 예시
- **설정 관리 객체**: 앱의 전역 설정 데이터를 한 곳에서 관리하고, 여러 모듈에서 동일한 설정값을 사용할 수 있다.
- **데이터베이스 연결**: 데이터베이스 연결은 매번 새로 생성하는 대신 단일 연결 인스턴스를 여러 곳에서 공유하여 자원을 절약할 수 있다.
- **로그 관리 객체**: 로깅 관련 작업을 수행하는 객체를 하나로 고정해 일관된 방식으로 로깅 작업을 수행할 수 있다.

### ES6 클래스 문법을 사용한 싱글톤 구현

JavaScript ES6에서는 `class` 문법을 이용하여 싱글톤 패턴을 구현할 수도 있다.

```javascript
class Singleton {
  constructor() {
    if (Singleton.instance) {
      return Singleton.instance;
    }
    Singleton.instance = this;
    this.data = "Singleton Data"; // 어떤 데이터라도 추가 가능
    return this;
  }

  getData() {
    return this.data;
  }
}

// 사용 예시
const instance1 = new Singleton();
const instance2 = new Singleton();

console.log(instance1 === instance2); // true
console.log(instance1.getData()); // "Singleton Data"
```

여기서는 생성자 내부에 인스턴스가 이미 존재하는지 확인하여, 존재한다면 새로운 객체를 생성하는 대신 기존의 인스턴스를 반환하게 만든다. 이 방식은 좀 더 직관적이며, 코드가 간결해지는 장점이 있다.

### 주의점
싱글톤 패턴은 편리하지만, 남용할 경우 전역 상태로 인해 코드가 복잡해질 수 있으니 신중히 사용해야 한다. 특히 여러 모듈이 같은 싱글톤 인스턴스를 공유할 때는 의존성이 높아질 수 있으므로 적절하게 분리하는 것이 중요하다.
