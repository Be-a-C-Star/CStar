### 싱글톤 패턴

###### 하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴

- 단 하나의 유일한 객체를 만들기 위한 코드 패턴임
- 메모리 절약을 위해, 인스턴스가 필요할 때 똑같은 인스턴스를 새로 만들지 않고 기존의 인스턴스를 가져와 활용하는 기법

- 우리가 전역 변수라는 걸 만들어 이용하는 이유는, 똑같은 데이터를 메서드마다 지역 변수로 선언해서 사용하면 무의미하기도 하고 낭비이기 때문에, 전역에서 한번만 데이터를 선언하고 가져와 사용하면 효율적이기 때문이다.
  - 이러한 개념을 그대로 클래스에 대입한 것이 싱글톤 패턴임
- 싱글톤 패턴이 적용된 객체가 필요한 경우는 그 객체가 리소스를 많이 차지하는 역할을 하는 무거운 클래스일때 적합함
- 인스턴스생성에 많은 코스트가 드는 데이터베이스 연결모듈에 많이 쓰임
- I/O 바운드 작업에 많이 사용

##### 장점

- 인스턴스를 생성할 때 드는 비용 감소
- 인스턴스 생성을 효율적으로 한다는 장점이 있음

##### 단점

- 의존성이 높아짐
- TDD를 할 때 불편한 단점이 있음
- TDD를 할 때 단위 테스트를 주로 하는데, 단위 테스트는 테스트가 서로 독립적이어야 하며 테스트를 어떤 순서로든 실행할 수 있어야 함.
- 하지만 싱글톤 패턴은 미리 생성된 하나의 인스턴스를 기반으로 구현하는 패턴이므로 각 테스트마다 '독립적인' 인스턴스를 만들기가 어려움

#### I/O(Input/output)❓

###### 파일을 읽고 쓰거나, 네트워크 어딘가에 있는 다른 존재와 데이터를 주고받거나, 모니터/ 마우스 같은 입출력 장치와 데이터를 주고 받는 것을 I/O라고 함

> I/O Bound ❓

##### I/O Burst 작업이 많은 프로세스

- 보통의 API 서버들은 HTTP request 요청을 받으면 DB서버나 캐시에 관련된 데이터를 요청 한 후에, 이 데이터들을 가공 한후 HTTP Response을 하는 것이 일반적임
- 이 때, `db서버나 캐시에서 데이터를 요청하는 작업이 I/O 작업`이고, 이런 작업은 `cpu에서 명령어를 처리하는 것보다 더 많은 시간이 소요됨`
  - 즉 I/O Bound 프로세스를 볼 수 있음(일반적인 구현한 api에 따라 다를 수 있음)

##### I/O Bound의 예시

- 디스크 드라이브(HDD, SSD)
  - 파일 읽기/쓰기 작업. 프로그램이 파일을 저장하거나 읽어야 할 때 디스크의 접근 시간이 지연을 일으키므로, 이를 대기하는 동안 CPU는 유휴 상태에 들어감
- 네트워크 장치(이더넷, Wi-Fi 어댑터 등)
  - API 호출, 웹페이지 로드, 원격 서버와의 데이터 전송 등이 네트워크 장치를 통해 이루어집니다. 네트워크의 속도나 대역폭 제한으로 지연이 발생할 수 있음
- 데이터베이스
  - DB 서버와의 데이터 송수신은 네트워크와 디스크 접근 지연을 모두 포함함(데이터 조회, 삽입, 삭제, 갱신 등)
- 입출력 포트(USB, 시리얼 포트 등)
  - 외부 장치(예: USB 드라이브, 프린터)와의 데이터 교환
- 디스플레이 장치
  - 그래픽 카드나 디스플레이와의 상호작용.
  - 이미지나 영상을 전송하거나 렌더링 등
- 사운드 장치
  - 오디오 파일 재생, 녹음, 스트리밍 등

##### 자바스크립트에서의 싱글톤 패턴

- 자바스크립트에서는 class를 사용하지 않고 싱글톤 패턴을 구현할 수 있음
- 자바스크립트의 class 문법이 다른 객체지향 언어들의 클래스 문법을 흉내내기 위해 ES6에서 등장한 문법적 설탕(syntactic sugar)일 뿐임
- 자바스크립트가 프로토타입 기반의 언어이기 때문임.
- 객체를 정의하고 이를 export하면 그 자체로 싱글톤이 구현됨
- 모듈이 처음 임포트될 때 단 한 번만 실행되어 메모리에 저장되고 이후에는 재사용되는 덕분에, 모듈 내부에서 만든 객체를 재참조하면서 싱글톤처럼 동작함
- 자바스크립트의 일반적인 함수와 객체, 클로저를 사용해서 구현이 가능
