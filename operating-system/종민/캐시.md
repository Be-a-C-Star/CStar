### 🍜 1. 캐시(Cache)란?

**캐시란 자주 쓰는 데이터를 잠깐 보관해두는 빠른 저장소**.

예시:
너가 자주 가는 **라면집**이 있어.
이 라면집은 주문이 많아서 요리 시간이 오래 걸려.
그래서 사장님은 자주 나가는 **인기 라면**을 **미리 만들어놓고** 옆에 따로 보관해둬.
손님이 오면 바로 줄 수 있게!

이 **미리 만들어 둔 라면 보관함** = **캐시**
그리고 **주방 안쪽 창고** = **메인 메모리(느림)**

---

### 🎯 2. 캐시 히트(Cache Hit)와 캐시 미스(Cache Miss)

- **캐시 히트**: 캐시에 찾는 게 있을 때 (바로 줌!)
- **캐시 미스**: 캐시에 없어서 창고(메인 메모리)까지 가야 할 때

예시:
너가 **치즈라면**을 시켰는데,
사장님이 "어! 이거 캐시에 있어!" → **캐시 히트** → 바로 줌 🍜
근데 너가 **해물짬뽕** 시켰는데 캐시에 없음 → 주방 가서 만들어야 함 → **캐시 미스** 😥

---

### 🧲 3. 지역성의 원리 (Principle of Locality)

캐시가 잘 동작하는 이유는 **지역성(locality)** 덕분이야.
지역성은 2가지가 있어:

- **시간 지역성(Time Locality)**:
  최근에 사용한 데이터는 또 쓸 가능성이 크다
  → 자주 시키는 메뉴는 또 시킬 가능성이 높다!

- **공간 지역성(Spatial Locality)**:
  어떤 데이터를 사용하면 그 주변 데이터도 곧 쓸 가능성이 크다
  → 떡라면 시키면 떡볶이나 순대도 같이 시킬 수 있다!

그래서 캐시에는 **자주 쓰거나**, **비슷한 데이터**를 **미리** 담아둬.

---

### 🧩 4. 캐시 매핑(Cache Mapping)

캐시는 크기가 작기 때문에 **무엇을 어디에 담을지** 정해줘야 해.
이걸 **캐시 매핑**이라 해.
총 3가지 방식이 있어:

---

### 📌 (1) 직접 매핑 (Direct Mapping)

하나의 주소(메모리)는 **캐시의 딱 한 곳**에만 저장됨.

예시:
라면집에 **한 칸짜리 보관함**이 있는데,
"떡라면은 무조건 1번 칸, 김치라면은 2번 칸" 이런 식으로 자리 고정.

장점: 빠르다
단점: 같은 자리에 저장하려는 게 많으면 계속 덮어씌워짐 (충돌 발생)

---

### 🔄 (2) 완전 연관 매핑 (Fully Associative Mapping)

**아무 데이터나 캐시의 아무 칸에나** 들어갈 수 있음.
검색도 전체 다 뒤져봐야 해.

예시:
사장님이 보관함에 아무 메뉴나 넣을 수 있고, 손님이 뭐 시키면 전부 다 열어봄.

장점: 충돌 거의 없음
단점: 찾는 데 오래 걸림 (전부 다 뒤져야 하니까)

---

### 🧠 (3) 집합 연관 매핑 (Set-Associative Mapping)

**타협안**이야.
캐시를 **집합(Set)** 으로 나누고,
하나의 데이터는 **정해진 집합 안의 아무 칸**에 저장 가능.

예시:
라면 보관함이 여러 줄로 나뉘어 있고,
치즈라면은 2번 줄에만 넣을 수 있는데 그 줄 안에서는 아무 칸이나 가능.

장점: 적당히 빠르고, 적당히 유연함
단점: 구현이 조금 더 복잡

---

### 정리 ✨

| 개념           | 쉬운 설명                               |
| -------------- | --------------------------------------- |
| 캐시           | 자주 쓰는 걸 미리 보관해두는 공간       |
| 캐시 히트      | 찾는 게 캐시에 있어서 바로 꺼냄         |
| 캐시 미스      | 캐시에 없어서 느린 창고까지 가야 함     |
| 지역성의 원리  | 자주 쓰거나 근처에 있는 걸 또 쓸 가능성 |
| 직접 매핑      | 데이터 하나 = 캐시 하나 자리 고정       |
| 연관 매핑      | 아무데나 저장 가능                      |
| 집합 연관 매핑 | 정해진 집합 안에서는 자유롭게 저장 가능 |

---
