# 페이지히트와 페이지미스

## 페이지 히트

페이지 히트는 프로세스가 요청한 페이지가 이미 물리 메모리에 로드되어 있는 경우를 의미한다.
즉, 페이지가 메모리에서 찾을 수 있을 때, 이를 페이지 히트라고 한다.

## 페이지 미스

페이지 미스는 프로세스가 요청한 페이지가 물리 메모리에 없어서,
해당 페이지를 디스크에서 불러와야 하는 상황을 의미한다.
즉, 메모리에서 해당 페이지를 찾을 수 없을 때 발생한다.

### 페이지미스와 페이지 폴트

페이지 미스는 페이지를 찾을 수 없는 상태이고, 페이지 폴트는 그 상태가 처리되는 과정을 의미한다.

#### 페이지미스가 나지만 페이지폴트로 이어지지 않는 경우

- 접근 권한 오류
- 성능최적화를 위해 미리 로드할 때의 페이지 미스

# 페이지교체 알고리즘#1. 오프라인알고리즘(LFD)

페이지 교체 알고리즘에서 **오프라인 알고리즘(Offline Algorithm)**은, **LFD(Least-Future-Used)**와 같은 전략을 사용하여, 페이지 교체 결정을 내릴 때 미래의 페이지 참조 패턴을 알고 있다고 가정한다.
이 알고리즘은 실제로 실행 중인 시스템에서 사용할 수 없는 이상적인 이론적 모델로, 미래에 어떤 페이지가 사용될지를 미리 알 수 있다는 조건하에 페이지 교체를 최적화한다.

## 오프라인 알고리즘 (Offline Algorithm)

오프라인 알고리즘은 페이지 교체 과정에서, 시스템이 앞으로 어떤 페이지가 사용될지 완벽하게 알 수 있는 알고리즘이다. 이 알고리즘은 보통 이론적인 분석을 위한 것이며, 실제 시스템에서는 미래를 예측할 수 없기 때문에 구현되지 않는다.

## LFD (Least-Future-Used)

**LFD(Least-Future-Used)**는 오프라인 알고리즘의 한 종류로, 미래에 가장 오랫동안 사용되지 않을 페이지를 교체하는 방법이다. 즉, 현재 메모리에 있는 페이지들 중에서 가장 나중에 사용될 페이지를 교체 대상으로 선택한다.

# 페이지교체 알고리즘#2. FIFO, LRU, NUR, LFU

페이지 교체 알고리즘은 가상 메모리 시스템에서 메모리가 부족할 때 어떤 페이지를 교체할지를 결정하는 알고리즘이다. 실제 시스템에서 사용되는 대표적인 페이지 교체 알고리즘에는 FIFO, LRU, NUR, LFU가 있으며 각 알고리즘은 페이지 교체 정책을 다르게 정의하고, 실행 성능에 영향을 미친다.

## 1. FIFO (First-In, First-Out)

FIFO는 가장 간단한 페이지 교체 알고리즘이다.
이 알고리즘은 가장 먼저 들어온 페이지를 가장 먼저 교체하는 방식으로 작동한다.
즉, 페이지가 메모리에 들어온 순서대로 교체되며, 가장 오래된 페이지부터 교체된다.

#### 작동 원리

- 페이지가 메모리에 로드될 때마다, 가장 먼저 로드된 페이지를 기억한다.
- 메모리가 꽉 차면, 가장 오래된 페이지(즉, 첫 번째로 들어온 페이지)를 교체한다.

#### 장점

- 구현이 간단하고, 이해하기 쉬운 알고리즘이다.

#### 단점

- 비효율적일 수 있다. 실제로 자주 사용되는 페이지가 오래된 순서에 있기 때문에, 필요한 페이지가 교체될 수 있다.

## 2. LRU (Least Recently Used)

LRU는 가장 오랫동안 사용되지 않은 페이지를 교체하는 알고리즘이다. 이 알고리즘은 가장 최근에 사용된 페이지가 가장 오래되지 않은 페이지로 간주된다.

#### 작동 원리

- 각 페이지의 최근 사용 시간을 추적한다.
- 가장 오래 전에 사용된 페이지를 교체 대상으로 선택한다.

#### 장점

- 페이지가 자주 사용되는 패턴을 반영하므로, 효율적이다. 자주 사용되는 페이지는 교체되지 않으므로 성능이 향상된다.

#### 단점

- 구현이 복잡할 수 있다. 최근 사용 시간을 추적하기 위한 자료 구조가 필요한다.
- 최적화되지 않은 구현에서는 추가적인 시간 복잡도를 가질 수 있다.

## 3. NUR (Not Used Recently)

NUR는 최근 사용되지 않은 페이지를 교체하는 알고리즘으로, LRU의 단점을 개선하기 위한 방법이다. 페이지가 사용되지 않으면 교체 대상으로 선택된다.

#### 작동 원리

- 각 페이지는 사용 비트(Use Bit)와 수정 비트(Modified Bit)를 가진다.
- 페이지가 사용되면 사용 비트가 1로 설정되고, 일정 시간이 지난 후 사용 비트가 0으로 리셋된다.
- 페이지가 오랫동안 사용되지 않은 경우(사용 비트가 0인 경우) 교체한다.

#### 장점

- LRU보다 효율적이고 구현이 간단한다.
- 페이지가 실제로 사용되지 않는 경우에만 교체하므로 자주 사용되는 페이지가 교체되지 않는다.

#### 단점

- 사용 비트를 주기적으로 리셋해야 하므로, 일정한 시간 동안 주기적인 작업이 필요하다.

## 4. LFU (Least Frequently Used)

LFU는 가장 적게 사용된 페이지를 교체하는 알고리즘이다. 이 알고리즘은 페이지의 사용 빈도를 추적하고 가장 적게 사용된 페이지를 교체한다.

#### 작동 원리

- 각 페이지에 대해 사용 횟수를 추적한다.
- 가장 적게 사용된 페이지를 교체 대상으로 선택한다.

#### 장점

- 자주 사용되는 페이지는 계속해서 메모리 내에 남게 되므로 효율적인 페이지 관리가 가능한다.

#### 단점

- 페이지가 자주 참조되면 사용 횟수 카운팅을 위해 리소스가 많이 소모될 수 있다.
- 상대적으로 오래 사용되지 않은 페이지를 교체하게 되므로 효율적이지 않을 수 있다.

#### 정리

- FIFO (First-In, First-Out): 가장 먼저 들어온 페이지를 먼저 교체한다. 구현이 간단하지만 비효율적일 수 있다.
- LRU (Least Recently Used): 가장 오랫동안 사용되지 않은 페이지를 교체한다. 자주 사용되는 페이지를 유지하지만, 구현이 복잡할 수 있다.
- NUR (Not Used Recently): 사용 비트를 통해 최근 사용되지 않은 페이지를 교체한다. LRU보다 효율적이고 구현이 간단한다.
- LFU (Least Frequently Used): 가장 적게 사용된 페이지를 교체한다. 사용 빈도를 추적하지만, 리소스를 많이 소모할 수 있다.
