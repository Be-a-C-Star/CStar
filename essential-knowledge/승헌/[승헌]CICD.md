## 1. CI/CD?

- **Continuous Integration/Continuous Deployment**
- Devops의 일환
- **Continuous Integration**
    - 코드 변경 사항을 자주(여러 개발자가 함께) 통합
    - 자동화된 테스트를 실행
- **Continuous Delivery**
    - 수동 승인으로 프로덕션 배포
    - 이전의 과정까지는 자동화
    - 항상 배포할 준비가 되어있는게 목표
- **Continuous Deployment**
    - 테스트가 통과되면 자동으로 프로덕션 환경에 배포

## 2. CI/CD의 중요성

- 품질 향상
    - 자동화된 파이프 라인으로 빠른 피드백
- 지속적인 배포
    - 프로덕션 환경까지 자동 배포
    - 빠른 릴리즈, 빠른 수정
- 개발 속도 및 출시 주기 단축

## **3. 파이프라인**

- 소스 코드를 빌드하고 테스트하며 배포하는 일련의 단계
- 빌드 → 테스트 → 배포
- 트리거
    - 이벤트에 따라 파이프라인이 자동으로 실행되도록 함
        - 코드 푸시, 풀 리퀘스트, 머지, 스케줄(정기적 배포), 수동
    - 보통 YAML형식, 또는 스크립트로 작성
- 병렬처리 & 조건부 실행
    - 각 테스트를 병렬처리 함으로 파이프라인 처리 속도를 향상시킬 수 있음
    - 특정 조건에 특정 단계를 실행할 수 있도록 함
        - 특정 브랜치에서만 배포
        - 특정 영역에 대해서만 빌드, 테스트 실행

## **4. CI/CD 도구**

- **대표적인 CI 도구**:
    - **Jenkins**: 오픈소스 CI 도구로, 플러그인 확장성이 높음
    - **GitLab CI/CD**: GitLab에 내장된 CI/CD 파이프라인으로 간단함
    - **GitHub Actions**: GitHub 내에서 제공하는 CI/CD 도구
    - **CircleCI**: 클라우드 기반 CI 도구, 빠른 설정과 사용 가능ㅇㅇ

## **5. 빌드 도구 및 테스트 자동화**

- **빌드 도구**: 소스 코드를 컴파일하고 패키징하는 역할
    - **Webpack**, **Gradle**, **Maven**, **npm/yarn** 등
- **테스트 자동화**
    - **단위테스트: Jest**, **Mocha**
    - **통합, E2E: Cypress**, **Selenium**
    - UI테스트: Storybook 등
- 테스트 커버리지
    - 코드가 얼마나 테스트 되었는지 정량적 측정
    - 퍼센티지로 나옴, 100%가 완벽한건 아님
    - 의도한 결과를 검증하는게 중요함(Quality✨)

## **6. 배포 자동화**

- 소프트웨어가 다양한 환경(개발, 테스트, 프로덕션)에 배포되는 과정을 자동화
- **배포 전략**:
    - 무중단 배포
        - **Blue-Green Deployment**
            - Blue: 현재 프로덕션 환경
            - Green: 새로운 버전이 배포될 환경
            - Green에서 테스트 후 트래픽을 전환함
        - **Rolling Deployment**
            - 인스턴스 여러개인 경우(앱, 웹, 클라우드, 컨테이너, 서버 등등)
            - 하나씩 교체
    - **Canary Deployment**
        - 일부 사용자에게만 배포를 먼저 적용해 안정성을 확인하는 방식
    - **프로덕션과 스테이징 환경**
        - 프로덕션: 실제 사용자가 사용하는 환경
        - 스테이징: 테스트 팀, 테스팅 시 사용
- **배포 도구**:
    - **Kubernetes**: 컨테이너 오케스트레이션 도구
    - **Docker**: 컨테이너화 도구
    - **Terraform**: 인프라 자동화 도구
    - **AWS CodePipeline**, **Azure DevOps**, **Google Cloud Build**

## **7. 인프라 자동화 (IaC - Infrastructure as Code)**

- **Infrastructure as Code(IaC)**
    - 인프라(서버, 네트워크, 데이터베이스 등)를 코드로 관리하고 자동화하는 방법
    - 클라우드 환경에서 인프라를 설정하고 배포하는 과정에 필수!
- 인프라의 버전 관리 및 배포 자동화
    - IaC를 사용(인프라 코드 작성)하면 Git 등에서 버전 관리/추적이 가능함
    - 파이프라인으로 애플리케이션과 함께 자동 배포가 가능함
- IaC**도구: Terraform**, **AWS CloudFormation** 등..
- 구성 관리(Configuration Management) 도구: **Ansible**, **Chef**, **Puppet** 등 ..

## **8. 컨테이너화 및 오케스트레이션**

- **Docker**: 컨테이너화 도구, 애플리케이션을 컨테이너 이미지로 배포
- **Kubernetes**: 컨테이너를 관리하고 오케스트레이션하는 도구
    - Docker는 개별 컨테이너 관리에 집중되어 있음
    - 쿠버네티스는 컨테이너 여러개 배포, 확장, LB, 장애복구 등 자동으로 처리해줌 ⇒ 이것이 바로 오케스트레이션
    - Pod(컨테이너 묶음) Node(컨테이너 실행 환경) Cluster(여러 노드가 모여 클러스터) Deployment(애플리케이션 배포 방법 정의 객체) 등으로 구성됨

## **9. 모니터링 및 로그 관리**

- 파이프라인 과정에서 배포 후 애플리케이션의 상태를 모니터링하고, 문제가 발생했을 때 로그를 통해 원인을 추적할 수 있어야 함
- 모니터링 도구
    - **Prometheus**
        - 시스템 성능데이터 수집, 경고 설정
    - **Grafana**
        - 데이터 시각화
- 로그 관리 및 분석 도구**: ELK Stack (Elasticsearch, Logstash, Kibana)**
    - **Elasticsearch**(검색엔진)**, Logstash**(로그 수집/처리)**, Kibana**(데이터 시각화)
    - 로그데이터 관리 및 분석에 사용
- 클라우드 기반 모니터링 도구: **AWS CloudWatch**, **Google Cloud Monitoring**, **Azure Monitor**
    - 클라우드 환경에서 서버, 애플리케이션, 네트워크 등 성능 실시간 모니터링 및 알림 기능

## **10. 보안 및 인증 관리**

- 파이프라인에서 보안이 매우 중요함
    - 빌드, 테스트, 배포 과정에서 **코드, 애플리케이션, 인프라 리소스**에 직접적으로 접근
- 소스코드 관리
    - 환경변수, API key, 비밀번호, 인증서 등 저장소에 푸시하지 않도록
- 빌드 환경 관리
    - 검증된 패키지 사용
    - 패키지 매니저가 기본적인 검증은 해주지만 취약점 발생한다고 자동으로 업데이트 해주거나 하진 않음
    - 빌드 아티팩트(컴파일된 파일, Docker 이미지 등) 저장소 관리 필요
- 배포 환경 관리
    - 배포 자동화 도구의 권한을 제한적으로 설정
- 테스트 및 모니터링
    - 테스트, 모니터링 도구를 활용해서 이상 징후를 탐지하고 실시간으로 대응할 수 있도록 해야함
