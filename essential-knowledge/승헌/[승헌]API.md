## API란?

- **API(Application Programming Interface)**
- 소프트웨어 간의 **상호작용을 위한 인터페이스를 제공**하는 도구
- **프로그램들이 서로 통신**할 수 있게 함
- 특정 작업을 수행하기 위해 **외부 모듈 또는 서비스를 호출**함

⇒ 소프트웨어에는 서버 및 웹 애플리케이션, 모바일 애플리케이션, DB, 서드파티 서비스, IoT 기기, 클라우드 서비스 등..

⇒ 마이크로서비스 구조로 구성된 대규모 시스템에서는 각 서비스간의 내부적 통신에서도 API를 활용함

## 인터페이스

API의 명확한 규칙과 명세(프로토콜)를 제공

### 1. **정해진 규칙**

- "어떤 방식으로", "어떤 데이터 형식으로", "어떤 응답을 반환할지" 등을 구체적으로 정의함
- REST API에서 HTTP 메서드(GET, POST, PUT, DELETE 등)와 엔드포인트(URL 경로)를 통해 요청을 보낸다.
- 각 메서드와 URL 경로에 따라 처리되는 방식이 다르며, 이게 인터페이스 규칙에 포함됨

### 2. **명세서(스펙)**

- 명확하게 정의된 **명세서(스펙)**가 있어, 개발자들이 이를 참고해 API를 호출하거나 응답을 처리할 수 있어야 함
- 명세서에는 호출 가능한 기능, 입력값의 형태, 반환값의 형태, 인증 절차 등이 포함
- 대표적으로 Swagger 문서가 API 인터페이스 명세를 자동화하는 데 많이 사용됨

### 3. **언어에 독립적**

- 언어에 구애받지 않고 상호작용할 수 있도록 설계됨
- 서로 다른 언어로 작성된 시스템도 API 규칙만 따르면 문제없이 작동함

### 4. **요청과 응답 구조**

- **요청(Request)** 과 **응답(Response)** 방식이 핵심
- REST API에서는 클라이언트가 서버에 HTTP 요청을 보내면, 서버는 특정 형식(JSON, XML 등)으로 응답을 반환해
- 어떤 데이터를 요청할 수 있고, 응답이 어떤 형식일지 인터페이스가 규정함

### 5. **상호작용 방식**

- API 사용자(클라이언트)가 사용할 수 있는 **기능**을 정의함
- **"계약(contract)"**이라고도함
- 각 엔드포인트는 특정한 기능을 제공하고, 해당 기능을 어떻게 사용할지 규정된 매뉴얼 같은 역할을 함
- e.g. `/users` 엔드포인트는 사용자 정보를 가져오거나 수정하는 기능을 제공한다고 인터페이스에서 정의

## API 작동 방식

1. **클라이언트 요청**: 클라이언트가 API 엔드포인트로 특정 요청을 보냄. 보통 HTTP 프로토콜을 사용.
2. **서버 처리**: 서버가 요청을 처리하고 필요한 작업을 수행 (데이터베이스 조회, 연산 등).
3. **응답 반환**: 서버는 요청에 대한 결과를 클라이언트에게 응답으로 반환. 일반적으로 JSON, XML 등의 포맷을 사용.

## API 장점

- **재사용성**: API를 이용해 이미 만들어진 기능을 다른 프로그램에서 재사용 가능.
- **유연성**: 개발자가 특정 기능을 자신만의 방식으로 구현할 수 있게 해줌.
- **확장성**: 다양한 서비스나 데이터를 외부와 손쉽게 통합할 수 있음.
- **보안성**: 권한이 있는 사용자만 API에 접근할 수 있도록 제한 가능 (OAuth, API 키 등).

## Open API?

**Open API**는 누구나 사용할 수 있는 공개된 API로, 특정 서비스나 플랫폼의 데이터를 외부 개발자가 사용할 수 있게 제공함.

## 구축방식, 라우팅?

API는 **REST**(Representational State Transfer) 또는 **GraphQL** 같은 아키텍처로 구축된다.

- **RESTful API**: HTTP 메서드(GET, POST, PUT, DELETE)를 사용해 데이터를 처리하고, 각 리소스에 고유한 URL을 부여해 접근함.
- **GraphQL API**: 특정 쿼리를 작성해 원하는 데이터만 요청하는 방식. REST API보다 데이터 사용이 효율적임.

**라우팅**은 클라이언트 요청을 적절한 서버 자원으로 **연결**하는 작업을 말함.

e.g. `/users/131313`라는 경로로 들어온 요청이 사용자 데이터베이스의 특정 사용자 정보로 라우팅된다.

REST API에서는 URL 경로와 HTTP 메서드가 중요한 역할을 한다.
