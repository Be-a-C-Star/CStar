### CI/CD(Continuous Integration/Delivery & Deployment)

##### CI/CD 파이프라인

###### 개발자가 코드를 짜고 지속적으로 코드를 합치고 배포하는 과정을 말한다.

##### 단계

1. continuous integration : 코드를 빌드하고 테스트하고 합침
2. continuous delivery : 해당 레포지토리에 릴리스
3. continuous deployment : 이를 프로덕션, 즉 실제 서비스에 배포

##### 장점

1. 체계적인 구조로 어떤 문제가 생겼을 시 빠른 추적이 가능
2. 테스트가 강제되어 통과 하지 못했을 시 머지를 방지함(안정성 확보)
3. 개발 속도를 높이고 배포 과정을 간소화함

##### 빌드

###### 웹브라우저에서 사용할 수 없는 확장자로 이루어진 모듈들을 컴파일해 브라우저에서 사용 가능한 확장자(html, css, js)로 변환하는 것

- 대표적인 예로 webpack이 있음
- 그 외에 Maven, Gradle, npm 등이 있음
- 빌드 단계에서는 코드의 의존성을 관리하고, 필요한 라이브러리를 다운로드하여 컴파일함
- 코드의 품질을 보장하기 위해 정적 분석 도구를 활용해 빌드시 사전 오류 방지

##### 테스트

###### 빌드된 코드가 올바르게 동작하는지 확인하는 과정

- 대표적인 테스트 프레임워크 `mocha` 가 있음
- 그 외에 JUnit, TestNG, Jest 등이 있음

1. 단위 테스트 - 개별 함수나 메서드와 같은 코드의 가장 작은 단위를 독립적으로 테스트
2. 통합 테스트 - 여러 모듈이나 컴포넌트가 함께 작동할 때 올바르게 상호 작용하는지 확인
3. 엔드 투 엔드 테스트 - 시스템의 전체 흐름을 시작부터 끝까지 테스트, 서비스 실제 사용 상황를 모방하여 전체 프로세스를 검증
4. 코드 보안 테스트 - 공격자가 서비스를 공격했을 때를 대비해 막아주는 테스트(규모있는 프로젝트에서 사용)

- 보안 테스트는 시스템의 취약점을 식별하고, 데이터 보호, 인증, 권한 부여 등의 보안 기능이 제대로 구현되었는지를 확인

##### 머지

###### 작업한 코드를 하나로 합치는 것

- 머지시 충돌은 대부분 일어나기 때문에 조금 더 작은 단위로 충돌이 일어나게 하는게 중요함
- 그렇다고 너무 아토믹하게 작은 단위로는 하지는 않고 작은 이슈단위를 기반으로 나눠서 머지하는게 좋음
- 충돌시 서로 화면공유하면서 합의하며 해결하는 방법 추천

##### 배포

###### 다른 사용자들이 인터넷을 통해서 사용할 수 있게 만드는 것

- Docker, Kubernetes, Ansible, Terraform 등의 툴이 있음

##### 배포의 종류

- 사용자를 위한 서비스를 배포
- 내부적으로 QA엔지니어나 관리자페이지를 위한 배포
- 데이터 웨어하우스로부터 데이터를 가공해서 백엔드개발자를 위한 배포

##### 배포 툴

- github action
- genkins
- circle ci
- heroku
  - Paas 플랫폼
  - CI, CD 설정 없이 자동 가능
  - 두개의 똑같은 프로그램을 돌리면 AWS에 비해 가성비가 좋음

##### 지속적 제공, 지속적 배포 차이점

- 개발자가 앱을 성공적으로 빌드 및 테스트하고 앱을 지속적으로 변경하면 이러한 앱과 업데이트가 자동으로 사용자 수용 테스트(UAT)에 전달됨

###### 지속적 배포: 코드 기능의 모든 측면이 테스트되고, 통과하면 애플리케이션의 작업 버전이 프로덕션으로 자동 푸시됨

- 승인 주기는 필요하지 않으므로 개발자는 테스트 사이트의 효과와 신뢰성을 보장해야 함
- 여러 팀이 최소한의 수작업으로 매우 짧은 시간 안에 여러 앱 또는 업데이트를 배포할 수 있다는 장점이 있음

###### 지속적 제공: 앱이 UAT에서 검증된 후 개발 팀이 수동으로 배포를 트리거할 때까지 기다려야 함

- 개발자가 피드백을 구현하고 지속적으로 수정할 수 있음
- 최종 제품이 완벽하게 준비되었다고 느낄 때만 최종 제품을 릴리스할 수 있음
- 지속적 제공은 수동 검토와 배포 시간을 고려해야 함
